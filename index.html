<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crexative Design System Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">CREXATIVE<br>Design System</div>

            <!-- Tipo de elemento -->
            <div class="section">
                <div class="section-title">Tipo de Elemento</div>
                <div class="section-content">
                    <div class="shape-preview" style="grid-template-columns: repeat(2, 1fr);">
                        <div class="shape-btn active" data-type="module" title="M√≥dulo (50x60)">
                            <svg class="shape-icon" viewBox="0 0 100 120">
                                <rect x="10" y="10" width="80" height="100" rx="15" fill="#00FFD1"/>
                            </svg>
                        </div>
                        <div class="shape-btn" data-type="connector" title="Conector (50x60)">
                            <svg class="shape-icon" viewBox="0 0 100 120">
                                <path d="M50,30 L55,45 L70,60 L55,75 L50,90 L45,75 L30,60 L45,45 Z" fill="#00FFD1"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Colores -->
            <div class="section">
                <div class="section-title">Color</div>
                <div class="section-content">
                    <div class="color-palette">
                        <div class="color-option active" data-color="#00FFD1" style="background: #00FFD1;" title="Crex Accent"></div>
                        <div class="color-option" data-color="#1F2937" style="background: #1F2937;" title="Crex Accent Secondary"></div>
                        <div class="color-option" data-color="#0EA5E9" style="background: #0EA5E9;" title="Crex Info"></div>
                        <div class="color-option" data-color="#0A0F1A" style="background: #0A0F1A; border: 1px solid #374151;" title="Primary Text"></div>
                        <div class="color-option" data-color="#F3F4F6" style="background: #F3F4F6;" title="Inverted Text"></div>
                        <div class="color-option" data-color="#FFFFFF" style="background: #FFFFFF;" title="White Background"></div>
                    </div>
                </div>
            </div>

            <!-- Tama√±o -->
            <div class="section">
                <div class="section-title">Tama√±o</div>
                <div class="section-content">
                    <div class="control-group">
                        <label>Ancho <span class="value-display" id="widthValue">50px</span></label>
                        <input type="range" id="widthSlider" min="50" max="300" value="50" step="10">
                    </div>
                    <div class="control-group">
                        <label>Alto <span class="value-display" id="heightValue">60px</span></label>
                        <input type="range" id="heightSlider" min="50" max="300" value="60" step="10">
                    </div>
                    <div class="control-group">
                        <label>Border Radius <span class="value-display" id="radiusValue">5px</span></label>
                        <input type="range" id="radiusSlider" min="0" max="50" value="5" step="1">
                    </div>
                </div>
            </div>

            <!-- Opacidad -->
            <div class="section">
                <div class="section-title">Opacidad</div>
                <div class="section-content">
                    <div class="control-group">
                        <input type="range" id="opacitySlider" min="10" max="100" value="100" step="10">
                        <label><span class="value-display" id="opacityValue">100%</span></label>
                    </div>
                </div>
            </div>

            <!-- Spacing/Padding -->
            <div class="section">
                <div class="section-title">Spacing</div>
                <div class="section-content">
                    <div class="control-group">
                        <label>Padding/Margen <span class="value-display" id="paddingValue">0px</span></label>
                        <input type="range" id="paddingSlider" min="0" max="20" value="0" step="2">
                    </div>
                    <div style="font-size: 10px; color: #9CA3AF; margin-top: 5px;">
                        Espacio interno del elemento para evitar que queden pegados
                    </div>
                </div>
            </div>

            <!-- Conexiones -->
            <div class="section">
                <div class="section-title">Conexiones</div>
                <div class="section-content">
                    <div class="control-group">
                        <label>Grosor de L√≠nea <span class="value-display" id="connectionThicknessValue">5px</span></label>
                        <input type="range" id="connectionThicknessSlider" min="1" max="10" value="5" step="1">
                    </div>
                    <div style="font-size: 10px; color: #9CA3AF; margin-top: 5px;">
                        Click en 2 elementos para conectarlos
                    </div>
                    <button class="btn btn-secondary" id="deleteAllConnections" style="margin-top: 10px;">Eliminar Todas las Conexiones</button>
                </div>
            </div>

            <!-- Agrupaci√≥n -->
            <div class="section">
                <div class="section-title">Agrupaci√≥n</div>
                <div class="section-content">
                    <button class="btn btn-secondary" id="groupSelected">Agrupar Selecci√≥n</button>
                    <button class="btn btn-secondary" id="ungroupSelected">Desagrupar</button>
                    <div style="font-size: 10px; color: #9CA3AF; margin-top: 5px;">
                        Usa Ctrl/Cmd + Click para seleccionar m√∫ltiples elementos
                    </div>
                </div>
            </div>

            <!-- Acciones -->
            <div class="section">
                <div class="section-title">Acciones</div>
                <div class="section-content">
                    <button class="btn" id="addElement">+ Agregar Elemento</button>
                    <button class="btn btn-secondary" id="clearCanvas">Limpiar Canvas</button>
                    <button class="btn btn-secondary" id="exportSVG">Exportar SVG</button>
                </div>
            </div>

            <!-- Info -->
            <div class="section" style="font-size: 11px; color: #9CA3AF; line-height: 1.5;">
                <strong style="color: #00FFD1;">Sistema Gr√°fico:</strong><br>
                ‚Ä¢ <strong>√Åtomo:</strong> M√≥dulo + Conector<br>
                ‚Ä¢ <strong>Mol√©cula:</strong> 2+ √°tomos unidos<br>
                ‚Ä¢ <strong>Organismo:</strong> M√∫ltiples mol√©culas<br>
                <br>
                <strong style="color: #00FFD1;">Controles:</strong><br>
                ‚Ä¢ Click para agregar con snap<br>
                ‚Ä¢ Arrastra para mover<br>
                ‚Ä¢ Delete para eliminar<br>
            </div>
        </div>

        <!-- Canvas Area -->
        <div class="canvas-container">
            <div class="toolbar">
                <span style="color: #00FFD1; font-weight: 600;">Canvas</span>
                <button class="toolbar-btn active" id="gridToggle">Mostrar Grid</button>
                <button class="toolbar-btn active" id="snapToggle" title="El snap est√° siempre activo">Snap: ON</button>
                <button class="toolbar-btn" id="connectionToggle" title="Modo Conexi√≥n: Click en 2 elementos para conectarlos">
                    <span>üîó</span> Conectar
                </button>
                <div style="margin-left: auto; color: #9CA3AF; font-size: 12px;" id="elementCount">
                    Elementos: 0
                </div>
            </div>
            <div class="canvas-wrapper">
                <div class="grid-background" id="gridBg" style="display: block;"></div>
                <svg id="connectionsLayer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 5;">
                    <!-- Las conexiones se renderizar√°n aqu√≠ -->
                </svg>
                <div class="snap-guide" id="snapGuide"></div>
                <div class="alignment-guide vertical" id="alignGuideV"></div>
                <div class="alignment-guide horizontal" id="alignGuideH"></div>
                <div class="distance-indicator" id="distanceIndicator"></div>
                <div id="canvas"></div>
            </div>
        </div>
    </div>

    <!-- Modal System -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">T√≠tulo</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                Mensaje
            </div>
            <div class="modal-footer" id="modalFooter">
                <button class="btn btn-secondary" id="modalCancel">Cancelar</button>
                <button class="btn" id="modalConfirm">Aceptar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
